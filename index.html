<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üõí ƒ∞kinciEl Fiyat Asistanƒ± - Elle √úr√ºn Ekleme</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* MOBƒ∞L UYUMLU STƒ∞LLER */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        body { background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); min-height: 100vh; color: #333; }
        
        .container { max-width: 100%; padding: 15px; }
        
        /* Header */
        .header { text-align: center; color: white; padding: 20px 15px; }
        .header h1 { font-size: 1.6rem; margin-bottom: 5px; }
        .header p { opacity: 0.9; font-size: 0.9rem; }
        
        /* Sekmeler */
        .tabs { display: flex; background: rgba(255, 255, 255, 0.95); border-radius: 15px; overflow: hidden; margin: 15px 0; }
        .tab { flex: 1; text-align: center; padding: 15px; cursor: pointer; border-bottom: 3px solid transparent; }
        .tab.active { border-bottom: 3px solid #6a11cb; font-weight: bold; color: #6a11cb; background: white; }
        
        /* ƒ∞√ßerik Alanlarƒ± */
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        /* √úr√ºn Ekleme Formu */
        .add-product-form { background: white; border-radius: 15px; padding: 20px; margin: 15px 0; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 500; color: #555; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 16px; }
        .form-group textarea { height: 100px; resize: vertical; }
        .form-actions { display: flex; gap: 10px; margin-top: 20px; }
        .btn { flex: 1; padding: 15px; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; }
        .btn-primary { background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); color: white; }
        .btn-secondary { background: #f5f5f5; color: #333; }
        
        /* √úr√ºn Listesi */
        .products-container { background: white; border-radius: 15px; padding: 20px; margin: 15px 0; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .product-card { border: 2px solid #e0e0e0; border-radius: 12px; padding: 15px; margin-bottom: 15px; }
        .product-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .product-title { font-weight: 600; color: #333; font-size: 16px; }
        .product-price { font-size: 1.3rem; font-weight: 700; color: #00b894; }
        .product-meta { font-size: 0.85rem; color: #666; margin-bottom: 10px; }
        .product-source { display: inline-block; background: #eee; padding: 3px 10px; border-radius: 12px; font-size: 0.8rem; }
        .product-actions { display: flex; gap: 10px; margin-top: 10px; }
        .btn-small { padding: 8px 15px; border-radius: 8px; border: none; cursor: pointer; font-size: 14px; }
        .btn-view { background: #2575fc; color: white; text-decoration: none; }
        .btn-remove { background: #ffebee; color: #c62828; }
        
        /* Sepet */
        .cart-container { background: white; border-radius: 15px; padding: 20px; margin: 15px 0; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .cart-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #eee; }
        .cart-item:last-child { border-bottom: none; }
        .cart-item-title { flex: 1; }
        .cart-item-price { font-weight: bold; color: #6a11cb; }
        .cart-total { text-align: right; margin-top: 15px; padding-top: 15px; border-top: 2px solid #eee; font-size: 1.3rem; font-weight: bold; color: #333; }
        
        /* Site Kartlarƒ± */
        .site-cards { display: grid; grid-template-columns: 1fr; gap: 15px; margin: 15px 0; }
        .site-card { background: white; border-radius: 15px; padding: 20px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .site-icon { font-size: 35px; margin-bottom: 10px; }
        .site-name { font-weight: bold; font-size: 1.1rem; margin-bottom: 8px; }
        .visit-site-btn { display: inline-block; background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none; font-weight: bold; margin-top: 10px; }
        
        /* Mesajlar */
        .message { padding: 15px; border-radius: 10px; margin: 10px 0; text-align: center; display: none; }
        .message.success { background: #e8f5e9; color: #2e7d32; }
        .message.error { background: #ffebee; color: #c62828; }
        
        /* Footer */
        .footer { text-align: center; color: white; padding: 20px; margin-top: 20px; font-size: 0.85rem; opacity: 0.8; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ba≈ülƒ±k -->
        <div class="header">
            <h1><i class="fas fa-hand-holding-usd"></i> ƒ∞kinciEl √úr√ºn Takip</h1>
            <p>Sahibinden, Dolap, Letgo ‚Ä¢ Elle √úr√ºn Ekle ‚Ä¢ Sepet Olu≈ütur</p>
        </div>
        
        <!-- Sekmeler -->
        <div class="tabs">
            <div class="tab active" data-tab="add">‚ûï √úr√ºn Ekle</div>
            <div class="tab" data-tab="products">üì¶ √úr√ºnlerim</div>
            <div class="tab" data-tab="cart">üõí Sepetim</div>
            <div class="tab" data-tab="sites">üåê Siteler</div>
        </div>
        
        <!-- Mesaj Alanƒ± -->
        <div id="message" class="message"></div>
        
        <!-- 1. √úR√úN EKLEME SEKmesi -->
        <div id="tab-add" class="tab-content active">
            <div class="add-product-form">
                <h3 style="margin-bottom: 20px; color: #333;">Yeni √úr√ºn Ekle</h3>
                
                <div class="form-group">
                    <label for="productTitle"><i class="fas fa-heading"></i> √úr√ºn Adƒ±</label>
                    <input type="text" id="productTitle" placeholder="√ñrn: iPhone 13 128GB, RTX 3060 12GB">
                </div>
                
                <div class="form-group">
                    <label for="productPrice"><i class="fas fa-tag"></i> Fiyat (TL)</label>
                    <input type="number" id="productPrice" placeholder="√ñrn: 18500">
                </div>
                
                <div class="form-group">
                    <label for="productLink"><i class="fas fa-link"></i> √úr√ºn Linki</label>
                    <textarea id="productLink" placeholder="https://www.sahibinden.com/ilan/..."></textarea>
                    <small style="color: #666; display: block; margin-top: 5px;">Siteden bulduƒüun √ºr√ºn√ºn linkini kopyala-yapƒ±≈ütƒ±r</small>
                </div>
                
                <div class="form-group">
                    <label for="productSource"><i class="fas fa-store"></i> Site</label>
                    <select id="productSource">
                        <option value="sahibinden">Sahibinden</option>
                        <option value="dolap">Dolap</option>
                        <option value="letgo">Letgo</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="productLocation"><i class="fas fa-map-marker-alt"></i> Konum (opsiyonel)</label>
                    <input type="text" id="productLocation" placeholder="√ñrn: ƒ∞stanbul, Ankara">
                </div>
                
                <div class="form-actions">
                    <button class="btn btn-secondary" onclick="clearForm()">
                        <i class="fas fa-eraser"></i> Temizle
                    </button>
                    <button class="btn btn-primary" onclick="addProduct()">
                        <i class="fas fa-plus-circle"></i> √úr√ºn Ekle
                    </button>
                </div>
            </div>
            
            <!-- Hƒ±zlƒ± Site Eri≈üim -->
            <div class="site-cards">
                <div class="site-card">
                    <div class="site-icon" style="color: #ff6b35;">
                        <i class="fas fa-store"></i>
                    </div>
                    <div class="site-name">Sahibinden'de Ara</div>
                    <p style="font-size: 0.9rem; color: #666; margin: 10px 0;">Siteyi a√ß, √ºr√ºn bul, linki kopyala</p>
                    <a href="https://www.sahibinden.com" target="_blank" class="visit-site-btn">
                        <i class="fas fa-external-link-alt"></i> Siteye Git
                    </a>
                </div>
            </div>
        </div>
        
        <!-- 2. √úR√úNLERƒ∞M SEKmesi -->
        <div id="tab-products" class="tab-content">
            <div class="products-container">
                <h3 style="margin-bottom: 15px; color: #333;">Eklediƒüim √úr√ºnler</h3>
                <div id="productsList">
                    <!-- √úr√ºnler buraya eklenecek -->
                    <p id="noProductsMessage" style="text-align: center; color: #999; padding: 20px;">
                        Hen√ºz √ºr√ºn eklemediniz. "√úr√ºn Ekle" sekmesinden ekleyin.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- 3. SEPETƒ∞M SEKmesi -->
        <div id="tab-cart" class="tab-content">
            <div class="cart-container">
                <h3 style="margin-bottom: 15px; color: #333;">Sepetim</h3>
                <div id="cartItems">
                    <!-- Sepet √∂ƒüeleri buraya eklenecek -->
                    <p id="emptyCartMessage" style="text-align: center; color: #999; padding: 20px;">
                        Sepetiniz bo≈ü. √úr√ºn ekleyip sepete ekleyin.
                    </p>
                </div>
                <div id="cartTotal" class="cart-total"></div>
                <div style="margin-top: 20px; display: flex; gap: 10px;">
                    <button class="btn btn-secondary" onclick="clearCart()" style="flex: 1;">
                        <i class="fas fa-trash"></i> Sepeti Temizle
                    </button>
                    <button class="btn btn-primary" onclick="checkout()" style="flex: 1;">
                        <i class="fas fa-shopping-cart"></i> Satƒ±n Al (Demo)
                    </button>
                </div>
            </div>
        </div>
        
        <!-- 4. Sƒ∞TELER SEKmesi -->
        <div id="tab-sites" class="tab-content">
            <div class="site-cards">
                <div class="site-card">
                    <div class="site-icon" style="color: #ff6b35;">
                        <i class="fas fa-store"></i>
                    </div>
                    <div class="site-name">Sahibinden</div>
                    <p style="font-size: 0.9rem; color: #666; margin: 10px 0;">T√ºrkiye'nin en b√ºy√ºk ikinci el pazarƒ±</p>
                    <a href="https://www.sahibinden.com" target="_blank" class="visit-site-btn">
                        <i class="fas fa-external-link-alt"></i> Siteye Git
                    </a>
                </div>
                
                <div class="site-card">
                    <div class="site-icon" style="color: #00a8ff;">
                        <i class="fas fa-shopping-bag"></i>
                    </div>
                    <div class="site-name">Dolap</div>
                    <p style="font-size: 0.9rem; color: #666; margin: 10px 0;">Giyim, elektronik, dekorasyon</p>
                    <a href="https://dolap.com" target="_blank" class="visit-site-btn">
                        <i class="fas fa-external-link-alt"></i> Siteye Git
                    </a>
                </div>
                
                <div class="site-card">
                    <div class="site-icon" style="color: #9c27b0;">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <div class="site-name">Letgo</div>
                    <p style="font-size: 0.9rem; color: #666; margin: 10px 0;">Yerel ikinci el ilanlarƒ±</p>
                    <a href="https://www.letgo.com" target="_blank" class="visit-site-btn">
                        <i class="fas fa-external-link-alt"></i> Siteye Git
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <p><i class="fas fa-mobile-alt"></i> Mobil Uyumlu ‚Ä¢ <i class="fas fa-shopping-cart"></i> Sepet Sistemi</p>
            <p style="font-size: 0.8rem; margin-top: 5px;">Elle √ºr√ºn ekleme ‚Ä¢ Backend gerektirmez ‚Ä¢ LocalStorage kayƒ±t</p>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // ==================== VERƒ∞ DEPOLAMA ====================
        let myProducts = JSON.parse(localStorage.getItem('myProducts')) || [];
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // ==================== SAYFA Y√úKLENƒ∞NCE ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Sekme deƒüi≈ütirme
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Aktif sekmeyi deƒüi≈ütir
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // ƒ∞√ßeriƒüi g√∂ster
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(`tab-${tabId}`).classList.add('active');
                    
                    // √úr√ºnleri yenile
                    if (tabId === 'products') loadProducts();
                    if (tabId === 'cart') loadCart();
                });
            });
            
            // ƒ∞lk y√ºkleme
            loadProducts();
            loadCart();
            
            console.log('üöÄ Elle √úr√ºn Takip Sistemi hazƒ±r');
        });
        
        // ==================== √úR√úN EKLEME ====================
        function addProduct() {
            const title = document.getElementById('productTitle').value.trim();
            const price = document.getElementById('productPrice').value;
            const link = document.getElementById('productLink').value.trim();
            const source = document.getElementById('productSource').value;
            const location = document.getElementById('productLocation').value.trim();
            
            // Validasyon
            if (!title || !price || !link) {
                showMessage('L√ºtfen t√ºm alanlarƒ± doldurun!', 'error');
                return;
            }
            
            const product = {
                id: Date.now(),
                title: title,
                price: parseInt(price),
                formattedPrice: parseInt(price).toLocaleString('tr-TR') + ' TL',
                link: link,
                source: source,
                location: location || 'Belirtilmemi≈ü',
                date: new Date().toLocaleDateString('tr-TR'),
                addedAt: new Date().toISOString()
            };
            
            // √úr√ºn√º ekle
            myProducts.push(product);
            saveProducts();
            
            // Formu temizle
            clearForm();
            
            // Mesaj g√∂ster
            showMessage(`"${title}" ba≈üarƒ±yla eklendi!`, 'success');
            
            // √úr√ºnler sekmesine ge√ß
            setTimeout(() => {
                document.querySelector('[data-tab="products"]').click();
            }, 1000);
        }
        
        // ==================== √úR√úNLERƒ∞ Y√úKLE ====================
        function loadProducts() {
            const container = document.getElementById('productsList');
            const noProductsMsg = document.getElementById('noProductsMessage');
            
            if (myProducts.length === 0) {
                container.innerHTML = '<p id="noProductsMessage" style="text-align: center; color: #999; padding: 20px;">Hen√ºz √ºr√ºn eklemediniz. "√úr√ºn Ekle" sekmesinden ekleyin.</p>';
                return;
            }
            
            // Siteye g√∂re grupla
            const grouped = {
                sahibinden: myProducts.filter(p => p.source === 'sahibinden'),
                dolap: myProducts.filter(p => p.source === 'dolap'),
                letgo: myProducts.filter(p => p.source === 'letgo')
            };
            
            let html = '';
            
            // Sahibinden √ºr√ºnleri
            if (grouped.sahibinden.length > 0) {
                html += `<h4 style="margin: 15px 0 10px 0; color: #555;"><i class="fas fa-store" style="color: #ff6b35;"></i> Sahibinden (${grouped.sahibinden.length})</h4>`;
                grouped.sahibinden.forEach(product => {
                    html += createProductCard(product);
                });
            }
            
            // Dolap √ºr√ºnleri
            if (grouped.dolap.length > 0) {
                html += `<h4 style="margin: 15px 0 10px 0; color: #555;"><i class="fas fa-shopping-bag" style="color: #00a8ff;"></i> Dolap (${grouped.dolap.length})</h4>`;
                grouped.dolap.forEach(product => {
                    html += createProductCard(product);
                });
            }
            
            // Letgo √ºr√ºnleri
            if (grouped.letgo.length > 0) {
                html += `<h4 style="margin: 15px 0 10px 0; color: #555;"><i class="fas fa-bolt" style="color: #9c27b0;"></i> Letgo (${grouped.letgo.length})</h4>`;
                grouped.letgo.forEach(product => {
                    html += createProductCard(product);
                });
            }
            
            container.innerHTML = html;
        }
        
        // ==================== √úR√úN KARTI OLU≈ûTUR ====================
        function createProductCard(product) {
            const borderColors = {
                sahibinden: '#ff6b35',
                dolap: '#00a8ff',
                letgo: '#9c27b0'
            };
            
            const inCart = cart.some(item => item.id === product.id);
            
            return `
                <div class="product-card" style="border-color: ${borderColors[product.source]};">
                    <div class="product-header">
                        <div class="product-title">${product.title}</div>
                        <div class="product-price">${product.formattedPrice}</div>
                    </div>
                    <div class="product-meta">
                        <i class="fas fa-map-marker-alt"></i> ${product.location} ‚Ä¢ 
                        <i class="far fa-calendar"></i> ${product.date}
                    </div>
                    <span class="product-source">${product.source.toUpperCase()}</span>
                    <div class="product-actions">
                        <a href="${product.link}" target="_blank" class="btn-small btn-view">
                            <i class="fas fa-external-link-alt"></i> ƒ∞lana Git
                        </a>
                        <button class="btn-small ${inCart ? 'btn-remove' : 'btn-secondary'}" onclick="toggleCart(${product.id})">
                            <i class="fas ${inCart ? 'fa-trash' : 'fa-cart-plus'}"></i> ${inCart ? 'Sepetten √áƒ±kar' : 'Sepete Ekle'}
                        </button>
                        <button class="btn-small" onclick="removeProduct(${product.id})" style="background: #ffebee; color: #c62828;">
                            <i class="fas fa-times"></i> Sil
                        </button>
                    </div>
                </div>
            `;
        }
        
        // ==================== SEPET ƒ∞≈ûLEMLERƒ∞ ====================
        function toggleCart(productId) {
            const product = myProducts.find(p => p.id === productId);
            const existingIndex = cart.findIndex(item => item.id === productId);
            
            if (existingIndex > -1) {
                // Sepetten √ßƒ±kar
                cart.splice(existingIndex, 1);
                showMessage(`"${product.title}" sepetten √ßƒ±karƒ±ldƒ±`, 'success');
            } else {
                // Sepete ekle
                cart.push(product);
                showMessage(`"${product.title}" sepete eklendi`, 'success');
            }
            
            saveCart();
            loadProducts();
            loadCart();
        }
        
        function loadCart() {
            const container = document.getElementById('cartItems');
            const emptyMsg = document.getElementById('emptyCartMessage');
            const totalEl = document.getElementById('cartTotal');
            
            if (cart.length === 0) {
                container.innerHTML = '<p id="emptyCartMessage" style="text-align: center; color: #999; padding: 20px;">Sepetiniz bo≈ü. √úr√ºn ekleyip sepete ekleyin.</p>';
                totalEl.innerHTML = '';
                return;
            }
            
            let html = '';
            let total = 0;
            
            cart.forEach(item => {
                total += item.price;
                html += `
                    <div class="cart-item">
                        <div class="cart-item-title">${item.title}</div>
                        <div class="cart-item-price">${item.formattedPrice}</div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
            totalEl.innerHTML = `Toplam: <span style="color: #6a11cb;">${total.toLocaleString('tr-TR')} TL</span>`;
        }
        
        function clearCart() {
            if (cart.length === 0) {
                showMessage('Sepet zaten bo≈ü!', 'error');
                return;
            }
            
            if (confirm('Sepeti tamamen temizlemek istediƒüinize emin misiniz?')) {
                cart = [];
                saveCart();
                loadProducts();
                loadCart();
                showMessage('Sepet temizlendi', 'success');
            }
        }
        
        function checkout() {
            if (cart.length === 0) {
                showMessage('Sepetiniz bo≈ü!', 'error');
                return;
            }
            
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            showMessage(`Demo: ${cart.length} √ºr√ºn ‚Ä¢ Toplam ${total.toLocaleString('tr-TR')} TL ‚Ä¢ Satƒ±n alma i≈ülemi sim√ºle edildi`, 'success');
        }
        
        // ==================== Dƒ∞ƒûER FONKSƒ∞YONLAR ====================
        function removeProduct(productId) {
            if (confirm('Bu √ºr√ºn√º silmek istediƒüinize emin misiniz?')) {
                // √úr√ºn√º sil
                myProducts = myProducts.filter(p => p.id !== productId);
                
                // Sepetten de sil
                cart = cart.filter(item => item.id !== productId);
                
                saveProducts();
                saveCart();
                loadProducts();
                loadCart();
                
                showMessage('√úr√ºn silindi', 'success');
            }
        }
        
        function clearForm() {
            document.getElementById('productTitle').value = '';
            document.getElementById('productPrice').value = '';
            document.getElementById('productLink').value = '';
            document.getElementById('productLocation').value = '';
            document.getElementById('productSource').selectedIndex = 0;
        }
        
        function showMessage(text, type) {
            const messageEl = document.getElementById('message');
            messageEl.textContent = text;
            messageEl.className = `message ${type}`;
            messageEl.style.display = 'block';
            
            setTimeout(() => {
                messageEl.style.display = 'none';
            }, 3000);
        }
        
        function saveProducts() {
            localStorage.setItem('myProducts', JSON.stringify(myProducts));
        }
        
        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }
        
        // ==================== √ñRNEK VERƒ∞ EKLE (ƒ∞STEƒûE BAƒûLI) ====================
        function addSampleData() {
            if (myProducts.length > 0) return;
            
            const samples = [
                {
                    id: 1,
                    title: "iPhone 13 128GB",
                    price: 18500,
                    formattedPrice: "18.500 TL",
                    link: "https://www.sahibinden.com/iphone-13",
                    source: "sahibinden",
                    location: "ƒ∞stanbul",
                    date: "Bug√ºn"
                },
                {
                    id: 2,
                    title: "RTX 3060 12GB",
                    price: 8500,
                    formattedPrice: "8.500 TL",
                    link: "https://dolap.com/rtx-3060",
                    source: "dolap",
                    location: "Ankara",
                    date: "D√ºn"
                }
            ];
            
            myProducts = samples;
            saveProducts();
            loadProducts();
            showMessage('√ñrnek veriler eklendi', 'success');
        }
        
        // Sayfa y√ºklendiƒüinde √∂rnek veri eklemek i√ßin (isteƒüe baƒülƒ±)
        // addSampleData();
    </script>
</body>
</html>
