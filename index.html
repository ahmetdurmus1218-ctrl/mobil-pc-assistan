<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FiyatTakip - AkÄ±llÄ± Fiyat KarÅŸÄ±laÅŸtÄ±rma</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0f172a">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ’°</text></svg>">
</head>
<body>
    <!-- Toast MesajlarÄ± -->
    <div id="toast" class="toast hidden"></div>

    <!-- Login Modal -->
    <div id="loginModal" class="modalWrap hidden">
        <div class="modalBack" id="loginBackdrop"></div>
        <div class="modalCard">
            <div class="modalHeader">
                <h2 class="modalTitle">GiriÅŸ Yap / KayÄ±t Ol</h2>
                <button id="closeLogin" class="iconBtn closeBtn">âœ•</button>
            </div>
            
            <div class="authTabs">
                <button id="tabLogin" class="tabBtn active">GiriÅŸ Yap</button>
                <button id="tabRegister" class="tabBtn">KayÄ±t Ol</button>
            </div>

            <div id="loginPane" class="authPane">
                <div class="formGroup">
                    <label class="formLabel">E-posta</label>
                    <input type="email" id="loginEmail" class="formInput" placeholder="ornek@mail.com" required>
                </div>
                <div class="formGroup">
                    <label class="formLabel">Åifre</label>
                    <input type="password" id="loginPass" class="formInput" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                </div>
                <div class="formActions">
                    <button id="btnLogin" class="btn primary full">GiriÅŸ Yap</button>
                    <button id="btnGoogleLogin" class="btn ghost full">
                        <span class="btnIcon">G</span> Google ile GiriÅŸ
                    </button>
                </div>
            </div>

            <div id="registerPane" class="authPane hidden">
                <div class="formGroup">
                    <label class="formLabel">E-posta</label>
                    <input type="email" id="regEmail" class="formInput" placeholder="ornek@mail.com" required>
                </div>
                <div class="formGroup">
                    <label class="formLabel">Åifre</label>
                    <input type="password" id="regPass" class="formInput" placeholder="En az 6 karakter" required minlength="6">
                </div>
                <div class="formGroup">
                    <label class="formLabel">Åifre Tekrar</label>
                    <input type="password" id="regPass2" class="formInput" placeholder="Åifreyi tekrar yazÄ±n" required minlength="6">
                </div>
                <div class="formActions">
                    <button id="btnRegister" class="btn primary full">KayÄ±t Ol</button>
                    <button id="btnGoogleLogin2" class="btn ghost full">
                        <span class="btnIcon">G</span> Google ile KayÄ±t
                    </button>
                </div>
                <div class="formHint">
                    KayÄ±t olunca otomatik giriÅŸ yapÄ±lÄ±r.
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="appShell">
        <!-- Header -->
        <header class="topbar">
            <div class="brand">
                <div class="logo">ğŸ’°</div>
                <div class="brandContent">
                    <h1 class="brandText">FiyatTakip</h1>
                    <p class="brandSub">AkÄ±llÄ± Fiyat KarÅŸÄ±laÅŸtÄ±rma</p>
                </div>
            </div>
            <div class="headerActions">
                <button id="cartIcon" class="iconBtn cartBtn">
                    ğŸ›’
                    <span id="cartCount" class="cartBadge hidden">0</span>
                </button>
                <button id="btnBell" class="iconBtn">ğŸ””</button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="pages">
            <!-- Home Page -->
            <section id="page-home" class="page active">
                <div class="searchCard">
                    <div class="searchHeader">
                        <div class="searchIcon">ğŸ”</div>
                        <div class="searchContent">
                            <h2 class="searchTitle">Ne ArÄ±yorsun?</h2>
                            <p class="searchSub">14 sitede en uygun fiyatÄ± bul</p>
                        </div>
                    </div>

                    <div class="searchBox">
                        <div class="searchInputWrapper">
                            <input type="text" id="qNormal" class="searchInput" placeholder="Ã–rn: iPhone 13, RTX 3060, 16GB RAM..." autocomplete="off">
                            <button id="btnMic" class="micBtn" title="Sesle ara">ğŸ¤</button>
                        </div>
                    </div>

                    <!-- Search Mode Toggle -->
                    <div class="modeToggle">
                        <div class="modeBtnGroup">
                            <button id="modeNormal" class="modeBtn active" data-mode="normal">
                                <span class="modeIcon">ğŸ”—</span>
                                <span class="modeText">Link Arama</span>
                            </button>
                            <button id="modeFiyat" class="modeBtn" data-mode="fiyat">
                                <span class="modeIcon">ğŸ’°</span>
                                <span class="modeText">Fiyat KarÅŸÄ±laÅŸtÄ±r</span>
                            </button>
                            <button id="modeAI" class="modeBtn" data-mode="ai">
                                <span class="modeIcon">ğŸ¤–</span>
                                <span class="modeText">AI Destekli</span>
                            </button>
                        </div>
                    </div>

                    <!-- Search Type Toggle -->
                    <div class="searchTypeToggle">
                        <div class="typeBtnGroup">
                            <button id="searchTypeAll" class="typeBtn active" data-type="all">
                                <span class="typeIcon">ğŸ”</span>
                                <span class="typeText">TÃ¼m Siteler</span>
                            </button>
                            <button id="searchTypeNew" class="typeBtn" data-type="new">
                                <span class="typeIcon">ğŸ›ï¸</span>
                                <span class="typeText">Yeni ÃœrÃ¼nler</span>
                            </button>
                            <button id="searchTypeSecondHand" class="typeBtn" data-type="secondhand">
                                <span class="typeIcon">ğŸ”„</span>
                                <span class="typeText">Ä°kinci El</span>
                            </button>
                        </div>
                    </div>

                    <button id="btnNormal" class="primaryBtn large">
                        <span class="btnIcon">ğŸš€</span>
                        <span class="btnText">AKILLI ARA</span>
                    </button>

                    <!-- Features -->
                    <div class="featuresGrid">
                        <div class="feature">
                            <div class="featureIcon">ğŸ¯</div>
                            <div class="featureText">AkÄ±llÄ± Filtreleme</div>
                        </div>
                        <div class="feature">
                            <div class="featureIcon">âš¡</div>
                            <div class="featureText">HÄ±zlÄ± SonuÃ§lar</div>
                        </div>
                        <div class="feature">
                            <div class="featureIcon">ğŸ’°</div>
                            <div class="featureText">En Uygun Fiyat</div>
                        </div>
                        <div class="feature">
                            <div class="featureIcon">ğŸ”„</div>
                            <div class="featureText">GerÃ§ek ZamanlÄ±</div>
                        </div>
                    </div>
                </div>

                <!-- Stats -->
                <div class="statsCard">
                    <div class="statsGrid">
                        <div class="statItem">
                            <div class="statValue">14</div>
                            <div class="statLabel">Site</div>
                        </div>
                        <div class="statItem">
                            <div class="statValue">1M+</div>
                            <div class="statLabel">ÃœrÃ¼n</div>
                        </div>
                        <div class="statItem">
                            <div class="statValue">âš¡</div>
                            <div class="statLabel">HÄ±zlÄ±</div>
                        </div>
                        <div class="statItem">
                            <div class="statValue">ğŸ¯</div>
                            <div class="statLabel">DoÄŸru</div>
                        </div>
                    </div>
                </div>

                <!-- Promo Banner -->
                <div class="promoBanner">
                    <div class="bannerContent">
                        <div class="bannerIcon">ğŸš€</div>
                        <div class="bannerText">
                            <h3 class="bannerTitle">En Uygun FiyatÄ± Bul!</h3>
                            <p class="bannerSub">14 farklÄ± sitede anÄ±nda fiyat karÅŸÄ±laÅŸtÄ±r</p>
                        </div>
                    </div>
                    <button class="bannerBtn" onclick="showPage('search')">Hemen Dene â†’</button>
                </div>

                <!-- Quick Searches -->
                <div class="quickSearches">
                    <h3 class="sectionTitle">
                        <span class="sectionIcon">ğŸ”¥</span>
                        PopÃ¼ler Aramalar
                    </h3>
                    <div class="quickTags">
                        <button class="quickTag" data-query="iPhone 13">
                            <span class="tagIcon">ğŸ“±</span>
                            <span class="tagText">iPhone 13</span>
                        </button>
                        <button class="quickTag" data-query="RTX 3060">
                            <span class="tagIcon">ğŸ®</span>
                            <span class="tagText">RTX 3060</span>
                        </button>
                        <button class="quickTag" data-query="16GB RAM">
                            <span class="tagIcon">ğŸ’¾</span>
                            <span class="tagText">16GB RAM</span>
                        </button>
                        <button class="quickTag" data-query="PlayStation 5">
                            <span class="tagIcon">ğŸ®</span>
                            <span class="tagText">PS5</span>
                        </button>
                        <button class="quickTag" data-query="AirPods Pro">
                            <span class="tagIcon">ğŸ§</span>
                            <span class="tagText">AirPods</span>
                        </button>
                        <button class="quickTag" data-query="SSD 1TB">
                            <span class="tagIcon">ğŸ’¿</span>
                            <span class="tagText">SSD 1TB</span>
                        </button>
                        <button class="quickTag" data-query="MacBook Air">
                            <span class="tagIcon">ğŸ’»</span>
                            <span class="tagText">MacBook</span>
                        </button>
                        <button class="quickTag" data-query="Samsung TV">
                            <span class="tagIcon">ğŸ“º</span>
                            <span class="tagText">Smart TV</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Searches -->
                <div class="recentSearches">
                    <div class="recentHeader">
                        <h3 class="sectionTitle">
                            <span class="sectionIcon">ğŸ•’</span>
                            Son Aramalar
                        </h3>
                        <button class="clearBtn" onclick="clearRecentSearches()">Temizle</button>
                    </div>
                    <div class="recentList" id="recentList">
                        <div class="recentEmpty">HenÃ¼z arama yapÄ±lmadÄ±</div>
                    </div>
                </div>
            </section>

            <!-- Search Results Page -->
            <section id="page-search" class="page">
                <div class="pageHeader">
                    <h2 class="pageTitle">
                        <span class="pageIcon">ğŸ”</span>
                        Arama SonuÃ§larÄ±
                    </h2>
                    <div class="pageActions">
                        <button id="btnClearSearch" class="btn ghost small">Temizle</button>
                        <button id="btnFilter" class="btn ghost small">Filtrele</button>
                    </div>
                </div>

                <div class="searchInfo" id="searchInfo">
                    <div class="searchQuery">Arama yapÄ±lmadÄ±</div>
                    <div class="searchStats">0 sonuÃ§</div>
                </div>

                <div class="resultsContainer">
                    <div id="normalList" class="resultsList">
                        <div class="emptyState">
                            <div class="emptyIcon">ğŸ”</div>
                            <h3>Arama YapÄ±n</h3>
                            <p>ÃœrÃ¼n adÄ±nÄ± yazÄ±p arama yaparak baÅŸlayÄ±n</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Favorites Page -->
            <section id="page-favs" class="page">
                <div class="pageHeader">
                    <h2 class="pageTitle">
                        <span class="pageIcon">â¤ï¸</span>
                        Favorilerim
                    </h2>
                    <div class="pageActions">
                        <button id="btnFavRefresh" class="btn ghost small">Yenile</button>
                        <button id="btnFavClear" class="btn ghost small">Temizle</button>
                    </div>
                </div>

                <div class="favStats">
                    <div class="favStat">
                        <div class="favStatValue" id="favCount">0</div>
                        <div class="favStatLabel">Favori</div>
                    </div>
                    <div class="favStat">
                        <div class="favStatValue" id="favSites">0</div>
                        <div class="favStatLabel">Site</div>
                    </div>
                </div>

                <div class="resultsContainer">
                    <div id="favList" class="resultsList">
                        <div class="emptyState">
                            <div class="emptyIcon">â¤ï¸</div>
                            <h3>Favori Yok</h3>
                            <p>Arama sonuÃ§larÄ±ndan favorilere ekleyin</p>
                            <button class="btn primary" onclick="showPage('home')">Arama Yap</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Cart Page -->
            <section id="page-cart" class="page">
                <div class="pageHeader">
                    <h2 class="pageTitle">
                        <span class="pageIcon">ğŸ›’</span>
                        Sepetim
                    </h2>
                    <div class="pageActions">
                        <button class="btn ghost small" onclick="clearCart()">Temizle</button>
                    </div>
                </div>

                <div class="cartSummary">
                    <div class="summaryHeader">
                        <h3 class="summaryTitle">SipariÅŸ Ã–zeti</h3>
                        <div class="itemCount" id="cartItemCount">0 Ã¼rÃ¼n</div>
                    </div>
                    <div class="summaryDetails">
                        <div class="detailRow">
                            <span>Ara Toplam</span>
                            <span id="cartSubtotal">â‚º0,00</span>
                        </div>
                        <div class="detailRow">
                            <span>Kargo</span>
                            <span class="freeShipping">Ãœcretsiz</span>
                        </div>
                        <div class="detailRow total">
                            <span>Toplam</span>
                            <span id="cartTotalPrice" class="totalPrice">â‚º0,00</span>
                        </div>
                    </div>
                    <div class="summaryActions">
                        <button class="btn secondary full" onclick="clearCart()">Sepeti BoÅŸalt</button>
                        <button class="btn primary full" onclick="checkoutCart()">SipariÅŸi Tamamla</button>
                    </div>
                </div>

                <div class="cartItems">
                    <div id="cartList" class="itemsList">
                        <div class="emptyState">
                            <div class="emptyIcon">ğŸ›’</div>
                            <h3>Sepet BoÅŸ</h3>
                            <p>Arama sonuÃ§larÄ±ndan sepete Ã¼rÃ¼n ekleyin</p>
                            <button class="btn primary" onclick="showPage('home')">AlÄ±ÅŸveriÅŸe BaÅŸla</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Page -->
            <section id="page-settings" class="page">
                <div class="pageHeader">
                    <h2 class="pageTitle">
                        <span class="pageIcon">âš™ï¸</span>
                        Ayarlar
                    </h2>
                </div>

                <div class="settingsSection">
                    <h3 class="sectionTitle">Hesap</h3>
                    <div class="settingItem">
                        <div class="settingInfo">
                            <div class="settingTitle">KullanÄ±cÄ±</div>
                            <div class="settingDesc" id="currentUser">Misafir</div>
                        </div>
                        <button id="logoutBtn" class="btn ghost small">Ã‡Ä±kÄ±ÅŸ Yap</button>
                    </div>
                </div>

                <div class="settingsSection">
                    <h3 class="sectionTitle">Uygulama</h3>
                    <div class="settingItem">
                        <div class="settingInfo">
                            <div class="settingTitle">Tema</div>
                            <div class="settingDesc">Koyu Mod</div>
                        </div>
                        <button class="btn ghost small">DeÄŸiÅŸtir</button>
                    </div>
                    <div class="settingItem">
                        <div class="settingInfo">
                            <div class="settingTitle">Ã–nbellek</div>
                            <div class="settingDesc">Temizle ve yenile</div>
                        </div>
                        <button id="btnClearCache" class="btn ghost small">Temizle</button>
                    </div>
                </div>

                <div class="settingsSection">
                    <h3 class="sectionTitle">HakkÄ±nda</h3>
                    <div class="aboutInfo">
                        <div class="appName">FiyatTakip</div>
                        <div class="appVersion">v2.0.0</div>
                        <div class="appDesc">AkÄ±llÄ± Fiyat KarÅŸÄ±laÅŸtÄ±rma UygulamasÄ±</div>
                        <div class="appCopyright">Â© 2024 TÃ¼m haklarÄ± saklÄ±dÄ±r.</div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Tab Bar -->
        <nav class="tabbar">
            <button class="tab active" data-page="home">
                <span class="tabIcon">ğŸ </span>
                <span class="tabLabel">Ana</span>
            </button>
            
            <button class="tab" data-page="search">
                <span class="tabIcon">ğŸ”</span>
                <span class="tabLabel">Ara</span>
            </button>
            
            <button class="cameraTab" id="cameraTabBtn">
                <span class="cameraIcon">ğŸ“¸</span>
            </button>
            
            <button class="tab" data-page="favs">
                <span class="tabIcon">â¤ï¸</span>
                <span class="tabLabel">Favori</span>
            </button>
            
            <button class="tab" data-page="cart">
                <span class="tabIcon">ğŸ›’</span>
                <span class="tabLabel">Sepet</span>
                <span id="tabCartCount" class="tabBadge hidden">0</span>
            </button>
        </nav>
    </div>

    <!-- Scripts -->
    <script src="firebase.js"></script>
    <script src="typeahead.js"></script>
    <script src="fps-engine.js"></script>
    <script src="pc-builder.js"></script>
    <script src="app.js"></script>
</body>
</html>
